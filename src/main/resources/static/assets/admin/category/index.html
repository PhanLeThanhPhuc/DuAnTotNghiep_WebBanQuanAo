<div class="container-fluid">
	<div class="card">
		<div class="card-body">
			<div class="row">
				<div class="form-group col-sm-6">
					Search: <input ng-model="searchText.$" class="form-control">
				</div>
				<div class="text-right col-sm-6">
					<button ng-click="reset()" type="button" class="btn btn-primary "
						data-toggle="modal" data-target="#exampleModalCenter">(+)Thêm</button>
				</div>
			</div>

			<div class="table-responsive">
				<table class="table  table-bordered zero-configuration">
					<thead>
						<tr>
							<th ng-click="toggleSort('id')" style="width: 10%;">ID <span
								ng-show="isSortedBy('id')" ng-class="getSortIconClass('id')"></span>
							</th>
							<th ng-click="toggleSort('name')" style="width: 20%;">Loại <span
								ng-show="isSortedBy('name')" ng-class="getSortIconClass('name')"></span></th>
							<th ng-click="toggleSort('dateInsert')" style="width: 20%;"> Ngày tạo<span ng-show="isSortedBy('dateInsert')"
								ng-class="getSortIconClass('dateInsert')"></span>
							</th>
							<th ng-click="toggleSort('dateUpdate')" style="width: 20%;">Ngày cập nhật <span ng-show="isSortedBy('dateUpdate')"
								ng-class="getSortIconClass('dateUpdate')"></span>
							</th>
							<th ng-click="toggleSort('status')" style="width: 20%;">Trạng thái</th>
							<th style="width: 20%;">Hoạt động</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat-start="item in pager.items"
							>
							<td ng-click="toggleCollapse(item)">{{item.id}}</td>
							<td ng-click="toggleCollapse(item)">{{item.name}}</td>
							<td ng-click="toggleCollapse(item)">{{item.dateInsert | date : 'dd-MM-yyyy hh:mm'}}</td>
							<td ng-click="toggleCollapse(item)">{{item.dateUpdate | date : 'dd-MM-yyyy hh:mm'}}</td>
							<td ng-click="toggleCollapse(item)"><label class="switch"> <input
											ng-model="item.status" ng-value="true" name="available"
											type="checkbox"> <span ng-click="updateCategoryStatus(item)" class="slider round"></span>
									</label></td>
							<td><span> <a ng-click="editCategory(item)"
									data-toggle="modal" data-target="#exampleModalCenter"
									data-toggle="tooltip" title="Edit" data-placement="top"> <span
										class="fe fe-24 fe-edit-2"></a></span></td>

						</tr>
						<tr ng-repeat-end ng-show="item.showDetails"
							style="padding: 0px; margin: 0px;">
							<td colspan="6" style="padding: 0; margin: 0; padding-bottom: 0;">
								<table class="table table-bordered"
									style="margin: 0; background-color: rgb(245, 245, 245);">
									<tr ng-repeat="detail in item.category_detail">
										<td style="width: 10%;">{{detail.id}}</td>
										<td style="width: 20%;">{{detail.name}}</td>
										<td style="width: 20%;">{{detail.dateInsert | date :
											'dd-MM-yyyy hh:mm'}}</td>
										<td style="width: 20%;">{{detail.dateUpdate | date :
											'dd-MM-yyyy hh:mm'}}</td>
										<td style="width: 20%;"><label class="switch"> <input
											ng-model="detail.status" ng-value="true" name="available"
											type="checkbox"> <span ng-click="updateCategoryDetailStatus(detail,item)" class="slider round"></span>
									</label></td>
										<td style="width: 20%;"><a data-toggle="modal"
											data-target="#exampleModalCenter1"
											ng-click="editCategoryDetail(item,detail)" title="Edit"><i
												class="fa fa-pencil color-muted m-r-5"></i> </a></td>
									</tr>

									<tr>
										<td colspan="6" class="text-center">
											<button type="button" class="btn btn-primary "
												ng-click="addCategoryDetail(item)" data-toggle="modal"
												data-target="#exampleModalCenter1">(+)Thêm</button>
										</td>
									</tr>
								</table>
							</td>
						</tr>
					</tbody>
				</table>
				<div class="bootstrap-pagination text-center">
					<nav>
						<ul class="pagination">
							<li class="page-item"><a class="page-link" href=""
								ng-click="pager.first()">Đầu</a></li>
							<li class="page-item"><a class="page-link" href=""
								ng-click="pager.prev()">Trước</a></li>
							<li class="page-item"><a class="page-link" href="">{{pager.page
									+ 1}} of {{pager.count}}</a></li>
							<li class="page-item"><a class="page-link" href=""
								ng-click="pager.next()">Tiếp</a></li>
							<li class="page-item"><a class="page-link" href=""
								ng-click="pager.last()">Cuối</a></li>
						</ul>
					</nav>
				</div>
			</div>
		</div>
	</div>
</div>

<div ng-include="'/assets/admin/category/popup-category.html'"></div>
<div ng-include="'/assets/admin/category/popup-category-detail.html'"></div>